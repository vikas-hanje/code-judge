"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/run";
exports.ids = ["pages/api/run"];
exports.modules = {

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("@supabase/supabase-js");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Frun&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Crun.ts&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Frun&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Crun.ts&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_run_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src\\pages\\api\\run.ts */ \"(api)/./src/pages/api/run.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_run_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_run_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/run\",\n        pathname: \"/api/run\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_run_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnJ1biZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnNyYyU1Q3BhZ2VzJTVDYXBpJTVDcnVuLnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ3NEO0FBQ3REO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxrREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsa0RBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29kZS1qdWRnZS8/YmU3ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vc3JjXFxcXHBhZ2VzXFxcXGFwaVxcXFxydW4udHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9ydW5cIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9ydW5cIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Frun&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Crun.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./src/lib/auth.ts":
/*!*************************!*\
  !*** ./src/lib/auth.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getUserFromRequest: () => (/* binding */ getUserFromRequest)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__);\n\nasync function getUserFromRequest(req) {\n    const auth = req.headers.authorization || \"\";\n    const token = auth.startsWith(\"Bearer \") ? auth.slice(7) : null;\n    if (!token) return {\n        user: null\n    };\n    const supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(process.env.SUPABASE_URL, \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhrdGFnYnR2b212d2hsanBoaG93Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTgyNzcyODAsImV4cCI6MjA3Mzg1MzI4MH0.iU7Bbb-CDHHIpBNDCxrVJ36xLuup8RjBpUbtsPn8_Us\", {\n        auth: {\n            persistSession: false,\n            autoRefreshToken: false\n        }\n    });\n    const { data, error } = await supabase.auth.getUser(token);\n    if (error) return {\n        user: null\n    };\n    return {\n        user: data.user\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbGliL2F1dGgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQ3FEO0FBRTlDLGVBQWVDLG1CQUFtQkMsR0FBbUI7SUFDMUQsTUFBTUMsT0FBT0QsSUFBSUUsT0FBTyxDQUFDQyxhQUFhLElBQUk7SUFDMUMsTUFBTUMsUUFBUUgsS0FBS0ksVUFBVSxDQUFDLGFBQWFKLEtBQUtLLEtBQUssQ0FBQyxLQUFLO0lBQzNELElBQUksQ0FBQ0YsT0FBTyxPQUFPO1FBQUVHLE1BQU07SUFBSztJQUNoQyxNQUFNQyxXQUFXVixtRUFBWUEsQ0FDM0JXLFFBQVFDLEdBQUcsQ0FBQ0MsWUFBWSxFQUN4QkYsa05BQXlDLEVBQ3pDO1FBQUVSLE1BQU07WUFBRVksZ0JBQWdCO1lBQU9DLGtCQUFrQjtRQUFNO0lBQUU7SUFFN0QsTUFBTSxFQUFFQyxJQUFJLEVBQUVDLEtBQUssRUFBRSxHQUFHLE1BQU1SLFNBQVNQLElBQUksQ0FBQ2dCLE9BQU8sQ0FBQ2I7SUFDcEQsSUFBSVksT0FBTyxPQUFPO1FBQUVULE1BQU07SUFBSztJQUMvQixPQUFPO1FBQUVBLE1BQU1RLEtBQUtSLElBQUk7SUFBQztBQUMzQiIsInNvdXJjZXMiOlsid2VicGFjazovL2NvZGUtanVkZ2UvLi9zcmMvbGliL2F1dGgudHM/NjY5MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IE5leHRBcGlSZXF1ZXN0IH0gZnJvbSAnbmV4dCc7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlckZyb21SZXF1ZXN0KHJlcTogTmV4dEFwaVJlcXVlc3QpIHtcbiAgY29uc3QgYXV0aCA9IHJlcS5oZWFkZXJzLmF1dGhvcml6YXRpb24gfHwgJyc7XG4gIGNvbnN0IHRva2VuID0gYXV0aC5zdGFydHNXaXRoKCdCZWFyZXIgJykgPyBhdXRoLnNsaWNlKDcpIDogbnVsbDtcbiAgaWYgKCF0b2tlbikgcmV0dXJuIHsgdXNlcjogbnVsbCB9IGFzIGNvbnN0O1xuICBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChcbiAgICBwcm9jZXNzLmVudi5TVVBBQkFTRV9VUkwhLFxuICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZISxcbiAgICB7IGF1dGg6IHsgcGVyc2lzdFNlc3Npb246IGZhbHNlLCBhdXRvUmVmcmVzaFRva2VuOiBmYWxzZSB9IH1cbiAgKTtcbiAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKHRva2VuKTtcbiAgaWYgKGVycm9yKSByZXR1cm4geyB1c2VyOiBudWxsIH0gYXMgY29uc3Q7XG4gIHJldHVybiB7IHVzZXI6IGRhdGEudXNlciB9IGFzIGNvbnN0O1xufVxuIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsImdldFVzZXJGcm9tUmVxdWVzdCIsInJlcSIsImF1dGgiLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsInRva2VuIiwic3RhcnRzV2l0aCIsInNsaWNlIiwidXNlciIsInN1cGFiYXNlIiwicHJvY2VzcyIsImVudiIsIlNVUEFCQVNFX1VSTCIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwicGVyc2lzdFNlc3Npb24iLCJhdXRvUmVmcmVzaFRva2VuIiwiZGF0YSIsImVycm9yIiwiZ2V0VXNlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./src/lib/auth.ts\n");

/***/ }),

/***/ "(api)/./src/lib/judge0.ts":
/*!***************************!*\
  !*** ./src/lib/judge0.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getJudge0Result: () => (/* binding */ getJudge0Result),\n/* harmony export */   runOnJudge0: () => (/* binding */ runOnJudge0),\n/* harmony export */   submitToJudge0: () => (/* binding */ submitToJudge0)\n/* harmony export */ });\nconst API_BASE = process.env.JUDGE0_API_URL || \"https://judge0-ce.p.rapidapi.com\";\nconst API_KEY = process.env.JUDGE0_API_KEY;\nconst API_HOST = process.env.JUDGE0_API_HOST || \"judge0-ce.p.rapidapi.com\";\nconst sleep = (ms)=>new Promise((res)=>setTimeout(res, ms));\nasync function submitToJudge0(payload) {\n    const res = await fetch(`${API_BASE}/submissions?base64_encoded=false&wait=false`, {\n        method: \"POST\",\n        headers: {\n            \"Content-Type\": \"application/json\",\n            \"X-RapidAPI-Key\": API_KEY || \"\",\n            \"X-RapidAPI-Host\": API_HOST\n        },\n        body: JSON.stringify(payload)\n    });\n    if (!res.ok) {\n        const text = await res.text();\n        throw new Error(`Judge0 submit failed: ${res.status} ${text}`);\n    }\n    return res.json();\n}\nasync function getJudge0Result(token) {\n    const res = await fetch(`${API_BASE}/submissions/${token}?base64_encoded=false`, {\n        headers: {\n            \"X-RapidAPI-Key\": API_KEY || \"\",\n            \"X-RapidAPI-Host\": API_HOST\n        },\n        cache: \"no-store\"\n    });\n    if (!res.ok) {\n        const text = await res.text();\n        throw new Error(`Judge0 get result failed: ${res.status} ${text}`);\n    }\n    return res.json();\n}\nasync function runOnJudge0(payload, { maxWaitMs = 30000, pollIntervalMs = 1200 } = {}) {\n    const { token } = await submitToJudge0(payload);\n    const start = Date.now();\n    while(Date.now() - start < maxWaitMs){\n        const result = await getJudge0Result(token);\n        if (result.status && result.status.id > 2) {\n            return result;\n        }\n        await sleep(pollIntervalMs);\n    }\n    throw new Error(\"Judge0 polling timed out\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbGliL2p1ZGdlMC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxNQUFNQSxXQUFXQyxRQUFRQyxHQUFHLENBQUNDLGNBQWMsSUFBSTtBQUMvQyxNQUFNQyxVQUFVSCxRQUFRQyxHQUFHLENBQUNHLGNBQWM7QUFDMUMsTUFBTUMsV0FBV0wsUUFBUUMsR0FBRyxDQUFDSyxlQUFlLElBQUk7QUFxQmhELE1BQU1DLFFBQVEsQ0FBQ0MsS0FBZSxJQUFJQyxRQUFRLENBQUNDLE1BQVFDLFdBQVdELEtBQUtGO0FBRTVELGVBQWVJLGVBQWVDLE9BQWdDO0lBQ25FLE1BQU1ILE1BQU0sTUFBTUksTUFBTSxDQUFDLEVBQUVmLFNBQVMsNENBQTRDLENBQUMsRUFBRTtRQUNqRmdCLFFBQVE7UUFDUkMsU0FBUztZQUNQLGdCQUFnQjtZQUNoQixrQkFBa0JiLFdBQVc7WUFDN0IsbUJBQW1CRTtRQUNyQjtRQUNBWSxNQUFNQyxLQUFLQyxTQUFTLENBQUNOO0lBQ3ZCO0lBQ0EsSUFBSSxDQUFDSCxJQUFJVSxFQUFFLEVBQUU7UUFDWCxNQUFNQyxPQUFPLE1BQU1YLElBQUlXLElBQUk7UUFDM0IsTUFBTSxJQUFJQyxNQUFNLENBQUMsc0JBQXNCLEVBQUVaLElBQUlhLE1BQU0sQ0FBQyxDQUFDLEVBQUVGLEtBQUssQ0FBQztJQUMvRDtJQUNBLE9BQU9YLElBQUljLElBQUk7QUFDakI7QUFFTyxlQUFlQyxnQkFBZ0JDLEtBQWE7SUFDakQsTUFBTWhCLE1BQU0sTUFBTUksTUFBTSxDQUFDLEVBQUVmLFNBQVMsYUFBYSxFQUFFMkIsTUFBTSxxQkFBcUIsQ0FBQyxFQUFFO1FBQy9FVixTQUFTO1lBQ1Asa0JBQWtCYixXQUFXO1lBQzdCLG1CQUFtQkU7UUFDckI7UUFDQXNCLE9BQU87SUFDVDtJQUNBLElBQUksQ0FBQ2pCLElBQUlVLEVBQUUsRUFBRTtRQUNYLE1BQU1DLE9BQU8sTUFBTVgsSUFBSVcsSUFBSTtRQUMzQixNQUFNLElBQUlDLE1BQU0sQ0FBQywwQkFBMEIsRUFBRVosSUFBSWEsTUFBTSxDQUFDLENBQUMsRUFBRUYsS0FBSyxDQUFDO0lBQ25FO0lBQ0EsT0FBT1gsSUFBSWMsSUFBSTtBQUNqQjtBQUVPLGVBQWVJLFlBQVlmLE9BQWdDLEVBQUUsRUFBRWdCLFlBQVksS0FBSyxFQUFFQyxpQkFBaUIsSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDO0lBQ25ILE1BQU0sRUFBRUosS0FBSyxFQUFFLEdBQUcsTUFBTWQsZUFBZUM7SUFDdkMsTUFBTWtCLFFBQVFDLEtBQUtDLEdBQUc7SUFDdEIsTUFBT0QsS0FBS0MsR0FBRyxLQUFLRixRQUFRRixVQUFXO1FBQ3JDLE1BQU1LLFNBQVMsTUFBTVQsZ0JBQWdCQztRQUNyQyxJQUFJUSxPQUFPWCxNQUFNLElBQUlXLE9BQU9YLE1BQU0sQ0FBQ1ksRUFBRSxHQUFHLEdBQUc7WUFDekMsT0FBT0Q7UUFDVDtRQUNBLE1BQU0zQixNQUFNdUI7SUFDZDtJQUNBLE1BQU0sSUFBSVIsTUFBTTtBQUNsQiIsInNvdXJjZXMiOlsid2VicGFjazovL2NvZGUtanVkZ2UvLi9zcmMvbGliL2p1ZGdlMC50cz9mODgzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEFQSV9CQVNFID0gcHJvY2Vzcy5lbnYuSlVER0UwX0FQSV9VUkwgfHwgJ2h0dHBzOi8vanVkZ2UwLWNlLnAucmFwaWRhcGkuY29tJztcbmNvbnN0IEFQSV9LRVkgPSBwcm9jZXNzLmVudi5KVURHRTBfQVBJX0tFWTtcbmNvbnN0IEFQSV9IT1NUID0gcHJvY2Vzcy5lbnYuSlVER0UwX0FQSV9IT1NUIHx8ICdqdWRnZTAtY2UucC5yYXBpZGFwaS5jb20nO1xuXG5leHBvcnQgdHlwZSBKdWRnZTBTdWJtaXNzaW9uUGF5bG9hZCA9IHtcbiAgc291cmNlX2NvZGU6IHN0cmluZztcbiAgbGFuZ3VhZ2VfaWQ6IG51bWJlcjtcbiAgc3RkaW4/OiBzdHJpbmc7XG4gIGV4cGVjdGVkX291dHB1dD86IHN0cmluZztcbiAgY3B1X3RpbWVfbGltaXQ/OiBudW1iZXI7IC8vIHNlY29uZHNcbiAgbWVtb3J5X2xpbWl0PzogbnVtYmVyOyAvLyBLQlxufTtcblxuZXhwb3J0IHR5cGUgSnVkZ2UwUmVzdWx0ID0ge1xuICB0b2tlbjogc3RyaW5nO1xuICBzdGRvdXQ/OiBzdHJpbmcgfCBudWxsO1xuICBzdGRlcnI/OiBzdHJpbmcgfCBudWxsO1xuICBjb21waWxlX291dHB1dD86IHN0cmluZyB8IG51bGw7XG4gIHRpbWU/OiBzdHJpbmcgfCBudWxsO1xuICBtZW1vcnk/OiBudW1iZXIgfCBudWxsO1xuICBzdGF0dXM6IHsgaWQ6IG51bWJlcjsgZGVzY3JpcHRpb246IHN0cmluZyB9O1xufTtcblxuY29uc3Qgc2xlZXAgPSAobXM6IG51bWJlcikgPT4gbmV3IFByb21pc2UoKHJlcykgPT4gc2V0VGltZW91dChyZXMsIG1zKSk7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzdWJtaXRUb0p1ZGdlMChwYXlsb2FkOiBKdWRnZTBTdWJtaXNzaW9uUGF5bG9hZCk6IFByb21pc2U8eyB0b2tlbjogc3RyaW5nIH0+IHtcbiAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goYCR7QVBJX0JBU0V9L3N1Ym1pc3Npb25zP2Jhc2U2NF9lbmNvZGVkPWZhbHNlJndhaXQ9ZmFsc2VgLCB7XG4gICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgaGVhZGVyczoge1xuICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICdYLVJhcGlkQVBJLUtleSc6IEFQSV9LRVkgfHwgJycsXG4gICAgICAnWC1SYXBpZEFQSS1Ib3N0JzogQVBJX0hPU1QsXG4gICAgfSxcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKSxcbiAgfSk7XG4gIGlmICghcmVzLm9rKSB7XG4gICAgY29uc3QgdGV4dCA9IGF3YWl0IHJlcy50ZXh0KCk7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBKdWRnZTAgc3VibWl0IGZhaWxlZDogJHtyZXMuc3RhdHVzfSAke3RleHR9YCk7XG4gIH1cbiAgcmV0dXJuIHJlcy5qc29uKCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRKdWRnZTBSZXN1bHQodG9rZW46IHN0cmluZyk6IFByb21pc2U8SnVkZ2UwUmVzdWx0PiB7XG4gIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGAke0FQSV9CQVNFfS9zdWJtaXNzaW9ucy8ke3Rva2VufT9iYXNlNjRfZW5jb2RlZD1mYWxzZWAsIHtcbiAgICBoZWFkZXJzOiB7XG4gICAgICAnWC1SYXBpZEFQSS1LZXknOiBBUElfS0VZIHx8ICcnLFxuICAgICAgJ1gtUmFwaWRBUEktSG9zdCc6IEFQSV9IT1NULFxuICAgIH0sXG4gICAgY2FjaGU6ICduby1zdG9yZScsXG4gIH0pO1xuICBpZiAoIXJlcy5vaykge1xuICAgIGNvbnN0IHRleHQgPSBhd2FpdCByZXMudGV4dCgpO1xuICAgIHRocm93IG5ldyBFcnJvcihgSnVkZ2UwIGdldCByZXN1bHQgZmFpbGVkOiAke3Jlcy5zdGF0dXN9ICR7dGV4dH1gKTtcbiAgfVxuICByZXR1cm4gcmVzLmpzb24oKTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJ1bk9uSnVkZ2UwKHBheWxvYWQ6IEp1ZGdlMFN1Ym1pc3Npb25QYXlsb2FkLCB7IG1heFdhaXRNcyA9IDMwMDAwLCBwb2xsSW50ZXJ2YWxNcyA9IDEyMDAgfSA9IHt9KSB7XG4gIGNvbnN0IHsgdG9rZW4gfSA9IGF3YWl0IHN1Ym1pdFRvSnVkZ2UwKHBheWxvYWQpO1xuICBjb25zdCBzdGFydCA9IERhdGUubm93KCk7XG4gIHdoaWxlIChEYXRlLm5vdygpIC0gc3RhcnQgPCBtYXhXYWl0TXMpIHtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBnZXRKdWRnZTBSZXN1bHQodG9rZW4pO1xuICAgIGlmIChyZXN1bHQuc3RhdHVzICYmIHJlc3VsdC5zdGF0dXMuaWQgPiAyKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBhd2FpdCBzbGVlcChwb2xsSW50ZXJ2YWxNcyk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKCdKdWRnZTAgcG9sbGluZyB0aW1lZCBvdXQnKTtcbn1cbiJdLCJuYW1lcyI6WyJBUElfQkFTRSIsInByb2Nlc3MiLCJlbnYiLCJKVURHRTBfQVBJX1VSTCIsIkFQSV9LRVkiLCJKVURHRTBfQVBJX0tFWSIsIkFQSV9IT1NUIiwiSlVER0UwX0FQSV9IT1NUIiwic2xlZXAiLCJtcyIsIlByb21pc2UiLCJyZXMiLCJzZXRUaW1lb3V0Iiwic3VibWl0VG9KdWRnZTAiLCJwYXlsb2FkIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvayIsInRleHQiLCJFcnJvciIsInN0YXR1cyIsImpzb24iLCJnZXRKdWRnZTBSZXN1bHQiLCJ0b2tlbiIsImNhY2hlIiwicnVuT25KdWRnZTAiLCJtYXhXYWl0TXMiLCJwb2xsSW50ZXJ2YWxNcyIsInN0YXJ0IiwiRGF0ZSIsIm5vdyIsInJlc3VsdCIsImlkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/lib/judge0.ts\n");

/***/ }),

/***/ "(api)/./src/lib/rateLimiter.ts":
/*!********************************!*\
  !*** ./src/lib/rateLimiter.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   enforceRateLimit: () => (/* binding */ enforceRateLimit)\n/* harmony export */ });\nasync function enforceRateLimit(admin, userId, limitPerMinute = 15) {\n    const since = new Date(Date.now() - 60 * 1000).toISOString();\n    const { count, error } = await admin.from(\"submissions\").select(\"id\", {\n        count: \"exact\",\n        head: true\n    }).eq(\"user_id\", userId).gte(\"created_at\", since);\n    if (error) throw error;\n    if ((count || 0) >= limitPerMinute) {\n        const err = new Error(\"Rate limit exceeded. Please wait a bit.\");\n        err.status = 429;\n        throw err;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbGliL3JhdGVMaW1pdGVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7QUFFTyxlQUFlQSxpQkFDcEJDLEtBQXFCLEVBQ3JCQyxNQUFjLEVBQ2RDLGlCQUFpQixFQUFFO0lBRW5CLE1BQU1DLFFBQVEsSUFBSUMsS0FBS0EsS0FBS0MsR0FBRyxLQUFLLEtBQUssTUFBTUMsV0FBVztJQUMxRCxNQUFNLEVBQUVDLEtBQUssRUFBRUMsS0FBSyxFQUFFLEdBQUcsTUFBTVIsTUFDNUJTLElBQUksQ0FBQyxlQUNMQyxNQUFNLENBQUMsTUFBTTtRQUFFSCxPQUFPO1FBQVNJLE1BQU07SUFBSyxHQUMxQ0MsRUFBRSxDQUFDLFdBQVdYLFFBQ2RZLEdBQUcsQ0FBQyxjQUFjVjtJQUVyQixJQUFJSyxPQUFPLE1BQU1BO0lBQ2pCLElBQUksQ0FBQ0QsU0FBUyxNQUFNTCxnQkFBZ0I7UUFDbEMsTUFBTVksTUFBVyxJQUFJQyxNQUFNO1FBQzNCRCxJQUFJRSxNQUFNLEdBQUc7UUFDYixNQUFNRjtJQUNSO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb2RlLWp1ZGdlLy4vc3JjL2xpYi9yYXRlTGltaXRlci50cz9mODFiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFN1cGFiYXNlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGVuZm9yY2VSYXRlTGltaXQoXG4gIGFkbWluOiBTdXBhYmFzZUNsaWVudCxcbiAgdXNlcklkOiBzdHJpbmcsXG4gIGxpbWl0UGVyTWludXRlID0gMTVcbikge1xuICBjb25zdCBzaW5jZSA9IG5ldyBEYXRlKERhdGUubm93KCkgLSA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKCk7XG4gIGNvbnN0IHsgY291bnQsIGVycm9yIH0gPSBhd2FpdCBhZG1pblxuICAgIC5mcm9tKCdzdWJtaXNzaW9ucycpXG4gICAgLnNlbGVjdCgnaWQnLCB7IGNvdW50OiAnZXhhY3QnLCBoZWFkOiB0cnVlIH0pXG4gICAgLmVxKCd1c2VyX2lkJywgdXNlcklkKVxuICAgIC5ndGUoJ2NyZWF0ZWRfYXQnLCBzaW5jZSk7XG5cbiAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgaWYgKChjb3VudCB8fCAwKSA+PSBsaW1pdFBlck1pbnV0ZSkge1xuICAgIGNvbnN0IGVycjogYW55ID0gbmV3IEVycm9yKCdSYXRlIGxpbWl0IGV4Y2VlZGVkLiBQbGVhc2Ugd2FpdCBhIGJpdC4nKTtcbiAgICBlcnIuc3RhdHVzID0gNDI5O1xuICAgIHRocm93IGVycjtcbiAgfVxufVxuIl0sIm5hbWVzIjpbImVuZm9yY2VSYXRlTGltaXQiLCJhZG1pbiIsInVzZXJJZCIsImxpbWl0UGVyTWludXRlIiwic2luY2UiLCJEYXRlIiwibm93IiwidG9JU09TdHJpbmciLCJjb3VudCIsImVycm9yIiwiZnJvbSIsInNlbGVjdCIsImhlYWQiLCJlcSIsImd0ZSIsImVyciIsIkVycm9yIiwic3RhdHVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/lib/rateLimiter.ts\n");

/***/ }),

/***/ "(api)/./src/lib/supabaseAdmin.ts":
/*!**********************************!*\
  !*** ./src/lib/supabaseAdmin.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   supabaseAdmin: () => (/* binding */ supabaseAdmin)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__);\n\nconst supabaseAdmin = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(process.env.SUPABASE_URL, process.env.SUPABASE_SERVICE_KEY, {\n    auth: {\n        persistSession: false,\n        autoRefreshToken: false\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbGliL3N1cGFiYXNlQWRtaW4udHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXFEO0FBRTlDLE1BQU1DLGdCQUFnQkQsbUVBQVlBLENBQ3ZDRSxRQUFRQyxHQUFHLENBQUNDLFlBQVksRUFDeEJGLFFBQVFDLEdBQUcsQ0FBQ0Usb0JBQW9CLEVBQ2hDO0lBQ0VDLE1BQU07UUFBRUMsZ0JBQWdCO1FBQU9DLGtCQUFrQjtJQUFNO0FBQ3pELEdBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb2RlLWp1ZGdlLy4vc3JjL2xpYi9zdXBhYmFzZUFkbWluLnRzP2ViOGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcblxuZXhwb3J0IGNvbnN0IHN1cGFiYXNlQWRtaW4gPSBjcmVhdGVDbGllbnQoXG4gIHByb2Nlc3MuZW52LlNVUEFCQVNFX1VSTCEsXG4gIHByb2Nlc3MuZW52LlNVUEFCQVNFX1NFUlZJQ0VfS0VZISxcbiAge1xuICAgIGF1dGg6IHsgcGVyc2lzdFNlc3Npb246IGZhbHNlLCBhdXRvUmVmcmVzaFRva2VuOiBmYWxzZSB9LFxuICB9XG4pO1xuIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsInN1cGFiYXNlQWRtaW4iLCJwcm9jZXNzIiwiZW52IiwiU1VQQUJBU0VfVVJMIiwiU1VQQUJBU0VfU0VSVklDRV9LRVkiLCJhdXRoIiwicGVyc2lzdFNlc3Npb24iLCJhdXRvUmVmcmVzaFRva2VuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/lib/supabaseAdmin.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/run.ts":
/*!******************************!*\
  !*** ./src/pages/api/run.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_supabaseAdmin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../lib/supabaseAdmin */ \"(api)/./src/lib/supabaseAdmin.ts\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../lib/auth */ \"(api)/./src/lib/auth.ts\");\n/* harmony import */ var _lib_rateLimiter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../lib/rateLimiter */ \"(api)/./src/lib/rateLimiter.ts\");\n/* harmony import */ var _lib_judge0__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../lib/judge0 */ \"(api)/./src/lib/judge0.ts\");\n\n\n\n\nasync function handler(req, res) {\n    if (req.method !== \"POST\") return res.status(405).json({\n        error: \"Method not allowed\"\n    });\n    const { user } = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_1__.getUserFromRequest)(req);\n    if (!user) return res.status(401).json({\n        error: \"Unauthorized\"\n    });\n    const { source_code, language_id, stdin, problemSlug } = req.body || {};\n    if (!source_code || !language_id) return res.status(400).json({\n        error: \"Missing fields\"\n    });\n    try {\n        await (0,_lib_rateLimiter__WEBPACK_IMPORTED_MODULE_2__.enforceRateLimit)(_lib_supabaseAdmin__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin, user.id);\n    } catch (e) {\n        return res.status(e.status || 429).json({\n            error: e.message\n        });\n    }\n    let problem = null;\n    let samples = [];\n    if (problemSlug) {\n        const { data } = await _lib_supabaseAdmin__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"problems\").select(\"id, time_limit_ms, memory_limit_kb\").eq(\"slug\", problemSlug).maybeSingle();\n        problem = data;\n        // Get sample test cases for this problem\n        if (problem) {\n            const { data: sampleData } = await _lib_supabaseAdmin__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"testcases\").select(\"id, input, expected_output\").eq(\"problem_id\", problem.id).eq(\"is_sample\", true).order(\"id\", {\n                ascending: true\n            });\n            samples = sampleData || [];\n        }\n    }\n    const { data: prelim, error: insErr } = await _lib_supabaseAdmin__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"submissions\").insert({\n        user_id: user.id,\n        problem_id: problem?.id ?? null,\n        language_id,\n        source_code,\n        stdin: stdin || null,\n        status: \"queued\",\n        is_submission: false\n    }).select(\"id\").single();\n    if (insErr) return res.status(500).json({\n        error: insErr.message\n    });\n    try {\n        const memKb = problem?.memory_limit_kb ? Math.max(2048, problem.memory_limit_kb) : undefined;\n        // Debug (safe): show limits and whether API key is set (do not log the key)\n        console.log(\"[api/run] Using limits\", {\n            cpu_s: problem?.time_limit_ms ? Math.ceil(problem.time_limit_ms / 1000) : undefined,\n            mem_kb: memKb,\n            hasApiKey: Boolean(process.env.JUDGE0_API_KEY),\n            host: process.env.JUDGE0_API_HOST\n        });\n        // Run with custom stdin first\n        const result = await (0,_lib_judge0__WEBPACK_IMPORTED_MODULE_3__.runOnJudge0)({\n            source_code,\n            language_id,\n            stdin,\n            cpu_time_limit: problem?.time_limit_ms ? Math.ceil(problem.time_limit_ms / 1000) : undefined,\n            memory_limit: memKb\n        });\n        const time_ms = result.time ? Math.round(parseFloat(result.time) * 1000) : null;\n        const memory_kb = result.memory ?? null;\n        const status = result.status?.description || \"Unknown\";\n        // Also run against sample test cases if available (regardless of main execution status)\n        const sampleResults = {};\n        if (samples.length > 0) {\n            console.log(`[api/run] Running ${samples.length} sample test cases`);\n            for (const sample of samples){\n                try {\n                    const sampleResult = await (0,_lib_judge0__WEBPACK_IMPORTED_MODULE_3__.runOnJudge0)({\n                        source_code,\n                        language_id,\n                        stdin: sample.input,\n                        cpu_time_limit: problem?.time_limit_ms ? Math.ceil(problem.time_limit_ms / 1000) : undefined,\n                        memory_limit: memKb\n                    });\n                    const sampleStatus = sampleResult.status?.description || \"Unknown\";\n                    sampleResults[sample.id] = {\n                        stdout: sampleResult.stdout || \"\",\n                        status: sampleStatus\n                    };\n                    console.log(`[api/run] Sample ${sample.id} result:`, sampleResults[sample.id]);\n                    // Handle NZEC (Non-Zero Exit Code) and other runtime errors\n                    if (sampleStatus.includes(\"Runtime Error\") || sampleStatus.includes(\"NZEC\")) {\n                        sampleResults[sample.id].stdout = sampleResult.stderr || \"Runtime Error (NZEC)\";\n                    }\n                } catch (sampleErr) {\n                    console.error(`[api/run] Sample ${sample.id} error:`, sampleErr);\n                    sampleResults[sample.id] = {\n                        stdout: \"\",\n                        status: \"Error\"\n                    };\n                }\n            }\n        }\n        const { error: updErr } = await _lib_supabaseAdmin__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"submissions\").update({\n            stdout: result.stdout ?? null,\n            stderr: (result.compile_output || result.stderr) ?? null,\n            status,\n            time_ms,\n            memory_kb\n        }).eq(\"id\", prelim.id);\n        if (updErr) console.error(\"Update submission error\", updErr.message);\n        res.json({\n            submission_id: prelim.id,\n            status,\n            stdout: result.stdout,\n            stderr: result.compile_output || result.stderr,\n            time_ms,\n            memory_kb,\n            sampleResults\n        });\n    } catch (err) {\n        console.error(\"[api/run] Error during execution:\", err?.message || err);\n        await _lib_supabaseAdmin__WEBPACK_IMPORTED_MODULE_0__.supabaseAdmin.from(\"submissions\").update({\n            status: \"error\",\n            stderr: err.message\n        }).eq(\"id\", prelim.id);\n        res.status(500).json({\n            error: err.message\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxHQUM5Q00sRUFBRSxDQUFDLE1BQU1LLE9BQU9iLEVBQUU7UUFDckJYLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsT0FBT3FFLElBQUk1RCxPQUFPO1FBQUM7SUFDNUM7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL2NvZGUtanVkZ2UvLi9zcmMvcGFnZXMvYXBpL3J1bi50cz8zM2VjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gJ25leHQnO1xuaW1wb3J0IHsgc3VwYWJhc2VBZG1pbiB9IGZyb20gJy4uLy4uL2xpYi9zdXBhYmFzZUFkbWluJztcbmltcG9ydCB7IGdldFVzZXJGcm9tUmVxdWVzdCB9IGZyb20gJy4uLy4uL2xpYi9hdXRoJztcbmltcG9ydCB7IGVuZm9yY2VSYXRlTGltaXQgfSBmcm9tICcuLi8uLi9saWIvcmF0ZUxpbWl0ZXInO1xuaW1wb3J0IHsgcnVuT25KdWRnZTAgfSBmcm9tICcuLi8uLi9saWIvanVkZ2UwJztcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXE6IE5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZSkge1xuICBpZiAocmVxLm1ldGhvZCAhPT0gJ1BPU1QnKSByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBlcnJvcjogJ01ldGhvZCBub3QgYWxsb3dlZCcgfSk7XG4gIGNvbnN0IHsgdXNlciB9ID0gYXdhaXQgZ2V0VXNlckZyb21SZXF1ZXN0KHJlcSk7XG4gIGlmICghdXNlcikgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0pO1xuXG4gIGNvbnN0IHsgc291cmNlX2NvZGUsIGxhbmd1YWdlX2lkLCBzdGRpbiwgcHJvYmxlbVNsdWcgfSA9IHJlcS5ib2R5IHx8IHt9O1xuICBpZiAoIXNvdXJjZV9jb2RlIHx8ICFsYW5ndWFnZV9pZCkgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdNaXNzaW5nIGZpZWxkcycgfSk7XG5cbiAgdHJ5IHtcbiAgICBhd2FpdCBlbmZvcmNlUmF0ZUxpbWl0KHN1cGFiYXNlQWRtaW4sIHVzZXIuaWQpO1xuICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyhlLnN0YXR1cyB8fCA0MjkpLmpzb24oeyBlcnJvcjogZS5tZXNzYWdlIH0pO1xuICB9XG5cbiAgbGV0IHByb2JsZW06IGFueSA9IG51bGw7XG4gIGxldCBzYW1wbGVzOiBhbnlbXSA9IFtdO1xuICBpZiAocHJvYmxlbVNsdWcpIHtcbiAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cbiAgICAgIC5mcm9tKCdwcm9ibGVtcycpXG4gICAgICAuc2VsZWN0KCdpZCwgdGltZV9saW1pdF9tcywgbWVtb3J5X2xpbWl0X2tiJylcbiAgICAgIC5lcSgnc2x1ZycsIHByb2JsZW1TbHVnKVxuICAgICAgLm1heWJlU2luZ2xlKCk7XG4gICAgcHJvYmxlbSA9IGRhdGE7XG4gICAgXG4gICAgLy8gR2V0IHNhbXBsZSB0ZXN0IGNhc2VzIGZvciB0aGlzIHByb2JsZW1cbiAgICBpZiAocHJvYmxlbSkge1xuICAgICAgY29uc3QgeyBkYXRhOiBzYW1wbGVEYXRhIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXG4gICAgICAgIC5mcm9tKCd0ZXN0Y2FzZXMnKVxuICAgICAgICAuc2VsZWN0KCdpZCwgaW5wdXQsIGV4cGVjdGVkX291dHB1dCcpXG4gICAgICAgIC5lcSgncHJvYmxlbV9pZCcsIHByb2JsZW0uaWQpXG4gICAgICAgIC5lcSgnaXNfc2FtcGxlJywgdHJ1ZSlcbiAgICAgICAgLm9yZGVyKCdpZCcsIHsgYXNjZW5kaW5nOiB0cnVlIH0pO1xuICAgICAgc2FtcGxlcyA9IHNhbXBsZURhdGEgfHwgW107XG4gICAgfVxuICB9XG5cbiAgY29uc3QgeyBkYXRhOiBwcmVsaW0sIGVycm9yOiBpbnNFcnIgfSA9IGF3YWl0IHN1cGFiYXNlQWRtaW5cbiAgICAuZnJvbSgnc3VibWlzc2lvbnMnKVxuICAgIC5pbnNlcnQoe1xuICAgICAgdXNlcl9pZDogdXNlci5pZCxcbiAgICAgIHByb2JsZW1faWQ6IHByb2JsZW0/LmlkID8/IG51bGwsXG4gICAgICBsYW5ndWFnZV9pZCxcbiAgICAgIHNvdXJjZV9jb2RlLFxuICAgICAgc3RkaW46IHN0ZGluIHx8IG51bGwsXG4gICAgICBzdGF0dXM6ICdxdWV1ZWQnLFxuICAgICAgaXNfc3VibWlzc2lvbjogZmFsc2UsXG4gICAgfSlcbiAgICAuc2VsZWN0KCdpZCcpXG4gICAgLnNpbmdsZSgpO1xuICBpZiAoaW5zRXJyKSByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogaW5zRXJyLm1lc3NhZ2UgfSk7XG5cbiAgdHJ5IHtcbiAgICBjb25zdCBtZW1LYiA9IHByb2JsZW0/Lm1lbW9yeV9saW1pdF9rYlxuICAgICAgPyBNYXRoLm1heCgyMDQ4LCBwcm9ibGVtLm1lbW9yeV9saW1pdF9rYilcbiAgICAgIDogdW5kZWZpbmVkO1xuICAgIC8vIERlYnVnIChzYWZlKTogc2hvdyBsaW1pdHMgYW5kIHdoZXRoZXIgQVBJIGtleSBpcyBzZXQgKGRvIG5vdCBsb2cgdGhlIGtleSlcbiAgICBjb25zb2xlLmxvZygnW2FwaS9ydW5dIFVzaW5nIGxpbWl0cycsIHtcbiAgICAgIGNwdV9zOiBwcm9ibGVtPy50aW1lX2xpbWl0X21zID8gTWF0aC5jZWlsKHByb2JsZW0udGltZV9saW1pdF9tcyAvIDEwMDApIDogdW5kZWZpbmVkLFxuICAgICAgbWVtX2tiOiBtZW1LYixcbiAgICAgIGhhc0FwaUtleTogQm9vbGVhbihwcm9jZXNzLmVudi5KVURHRTBfQVBJX0tFWSksXG4gICAgICBob3N0OiBwcm9jZXNzLmVudi5KVURHRTBfQVBJX0hPU1QsXG4gICAgfSk7XG5cbiAgICAvLyBSdW4gd2l0aCBjdXN0b20gc3RkaW4gZmlyc3RcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBydW5Pbkp1ZGdlMCh7XG4gICAgICBzb3VyY2VfY29kZSxcbiAgICAgIGxhbmd1YWdlX2lkLFxuICAgICAgc3RkaW4sXG4gICAgICBjcHVfdGltZV9saW1pdDogcHJvYmxlbT8udGltZV9saW1pdF9tcyA/IE1hdGguY2VpbChwcm9ibGVtLnRpbWVfbGltaXRfbXMgLyAxMDAwKSA6IHVuZGVmaW5lZCxcbiAgICAgIG1lbW9yeV9saW1pdDogbWVtS2IsXG4gICAgfSk7XG5cbiAgICBjb25zdCB0aW1lX21zID0gcmVzdWx0LnRpbWUgPyBNYXRoLnJvdW5kKHBhcnNlRmxvYXQocmVzdWx0LnRpbWUpICogMTAwMCkgOiBudWxsO1xuICAgIGNvbnN0IG1lbW9yeV9rYiA9IHJlc3VsdC5tZW1vcnkgPz8gbnVsbDtcbiAgICBjb25zdCBzdGF0dXMgPSByZXN1bHQuc3RhdHVzPy5kZXNjcmlwdGlvbiB8fCAnVW5rbm93bic7XG5cbiAgICAvLyBBbHNvIHJ1biBhZ2FpbnN0IHNhbXBsZSB0ZXN0IGNhc2VzIGlmIGF2YWlsYWJsZSAocmVnYXJkbGVzcyBvZiBtYWluIGV4ZWN1dGlvbiBzdGF0dXMpXG4gICAgY29uc3Qgc2FtcGxlUmVzdWx0czogeyBba2V5OiBudW1iZXJdOiB7IHN0ZG91dDogc3RyaW5nOyBzdGF0dXM6IHN0cmluZyB9IH0gPSB7fTtcbiAgICBpZiAoc2FtcGxlcy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zb2xlLmxvZyhgW2FwaS9ydW5dIFJ1bm5pbmcgJHtzYW1wbGVzLmxlbmd0aH0gc2FtcGxlIHRlc3QgY2FzZXNgKTtcbiAgICAgIGZvciAoY29uc3Qgc2FtcGxlIG9mIHNhbXBsZXMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBzYW1wbGVSZXN1bHQgPSBhd2FpdCBydW5Pbkp1ZGdlMCh7XG4gICAgICAgICAgICBzb3VyY2VfY29kZSxcbiAgICAgICAgICAgIGxhbmd1YWdlX2lkLFxuICAgICAgICAgICAgc3RkaW46IHNhbXBsZS5pbnB1dCxcbiAgICAgICAgICAgIGNwdV90aW1lX2xpbWl0OiBwcm9ibGVtPy50aW1lX2xpbWl0X21zID8gTWF0aC5jZWlsKHByb2JsZW0udGltZV9saW1pdF9tcyAvIDEwMDApIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgbWVtb3J5X2xpbWl0OiBtZW1LYixcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCBzYW1wbGVTdGF0dXMgPSBzYW1wbGVSZXN1bHQuc3RhdHVzPy5kZXNjcmlwdGlvbiB8fCAnVW5rbm93bic7XG4gICAgICAgICAgc2FtcGxlUmVzdWx0c1tzYW1wbGUuaWRdID0ge1xuICAgICAgICAgICAgc3Rkb3V0OiBzYW1wbGVSZXN1bHQuc3Rkb3V0IHx8ICcnLFxuICAgICAgICAgICAgc3RhdHVzOiBzYW1wbGVTdGF0dXNcbiAgICAgICAgICB9O1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBbYXBpL3J1bl0gU2FtcGxlICR7c2FtcGxlLmlkfSByZXN1bHQ6YCwgc2FtcGxlUmVzdWx0c1tzYW1wbGUuaWRdKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBIYW5kbGUgTlpFQyAoTm9uLVplcm8gRXhpdCBDb2RlKSBhbmQgb3RoZXIgcnVudGltZSBlcnJvcnNcbiAgICAgICAgICBpZiAoc2FtcGxlU3RhdHVzLmluY2x1ZGVzKCdSdW50aW1lIEVycm9yJykgfHwgc2FtcGxlU3RhdHVzLmluY2x1ZGVzKCdOWkVDJykpIHtcbiAgICAgICAgICAgIHNhbXBsZVJlc3VsdHNbc2FtcGxlLmlkXS5zdGRvdXQgPSBzYW1wbGVSZXN1bHQuc3RkZXJyIHx8ICdSdW50aW1lIEVycm9yIChOWkVDKSc7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChzYW1wbGVFcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGBbYXBpL3J1bl0gU2FtcGxlICR7c2FtcGxlLmlkfSBlcnJvcjpgLCBzYW1wbGVFcnIpO1xuICAgICAgICAgIHNhbXBsZVJlc3VsdHNbc2FtcGxlLmlkXSA9IHtcbiAgICAgICAgICAgIHN0ZG91dDogJycsXG4gICAgICAgICAgICBzdGF0dXM6ICdFcnJvcidcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgeyBlcnJvcjogdXBkRXJyIH0gPSBhd2FpdCBzdXBhYmFzZUFkbWluXG4gICAgICAuZnJvbSgnc3VibWlzc2lvbnMnKVxuICAgICAgLnVwZGF0ZSh7XG4gICAgICAgIHN0ZG91dDogcmVzdWx0LnN0ZG91dCA/PyBudWxsLFxuICAgICAgICBzdGRlcnI6IChyZXN1bHQuY29tcGlsZV9vdXRwdXQgfHwgcmVzdWx0LnN0ZGVycikgPz8gbnVsbCxcbiAgICAgICAgc3RhdHVzLFxuICAgICAgICB0aW1lX21zLFxuICAgICAgICBtZW1vcnlfa2IsXG4gICAgICB9KVxuICAgICAgLmVxKCdpZCcsIHByZWxpbS5pZCk7XG4gICAgaWYgKHVwZEVycikgY29uc29sZS5lcnJvcignVXBkYXRlIHN1Ym1pc3Npb24gZXJyb3InLCB1cGRFcnIubWVzc2FnZSk7XG5cbiAgICByZXMuanNvbih7XG4gICAgICBzdWJtaXNzaW9uX2lkOiBwcmVsaW0uaWQsXG4gICAgICBzdGF0dXMsXG4gICAgICBzdGRvdXQ6IHJlc3VsdC5zdGRvdXQsXG4gICAgICBzdGRlcnI6IHJlc3VsdC5jb21waWxlX291dHB1dCB8fCByZXN1bHQuc3RkZXJyLFxuICAgICAgdGltZV9tcyxcbiAgICAgIG1lbW9yeV9rYixcbiAgICAgIHNhbXBsZVJlc3VsdHMsXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgY29uc29sZS5lcnJvcignW2FwaS9ydW5dIEVycm9yIGR1cmluZyBleGVjdXRpb246JywgZXJyPy5tZXNzYWdlIHx8IGVycik7XG4gICAgYXdhaXQgc3VwYWJhc2VBZG1pblxuICAgICAgLmZyb20oJ3N1Ym1pc3Npb25zJylcbiAgICAgIC51cGRhdGUoeyBzdGF0dXM6ICdlcnJvcicsIHN0ZGVycjogZXJyLm1lc3NhZ2UgfSlcbiAgICAgIC5lcSgnaWQnLCBwcmVsaW0uaWQpO1xuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6IGVyci5tZXNzYWdlIH0pO1xuICB9XG59XG4iXSwibmFtZXMiOlsic3VwYWJhc2VBZG1pbiIsImdldFVzZXJGcm9tUmVxdWVzdCIsImVuZm9yY2VSYXRlTGltaXQiLCJydW5Pbkp1ZGdlMCIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiLCJ1c2VyIiwic291cmNlX2NvZGUiLCJsYW5ndWFnZV9pZCIsInN0ZGluIiwicHJvYmxlbVNsdWciLCJib2R5IiwiaWQiLCJlIiwibWVzc2FnZSIsInByb2JsZW0iLCJzYW1wbGVzIiwiZGF0YSIsImZyb20iLCJzZWxlY3QiLCJlcSIsIm1heWJlU2luZ2xlIiwic2FtcGxlRGF0YSIsIm9yZGVyIiwiYXNjZW5kaW5nIiwicHJlbGltIiwiaW5zRXJyIiwiaW5zZXJ0IiwidXNlcl9pZCIsInByb2JsZW1faWQiLCJpc19zdWJtaXNzaW9uIiwic2luZ2xlIiwibWVtS2IiLCJtZW1vcnlfbGltaXRfa2IiLCJNYXRoIiwibWF4IiwidW5kZWZpbmVkIiwiY29uc29sZSIsImxvZyIsImNwdV9zIiwidGltZV9saW1pdF9tcyIsImNlaWwiLCJtZW1fa2IiLCJoYXNBcGlLZXkiLCJCb29sZWFuIiwicHJvY2VzcyIsImVudiIsIkpVREdFMF9BUElfS0VZIiwiaG9zdCIsIkpVREdFMF9BUElfSE9TVCIsInJlc3VsdCIsImNwdV90aW1lX2xpbWl0IiwibWVtb3J5X2xpbWl0IiwidGltZV9tcyIsInRpbWUiLCJyb3VuZCIsInBhcnNlRmxvYXQiLCJtZW1vcnlfa2IiLCJtZW1vcnkiLCJkZXNjcmlwdGlvbiIsInNhbXBsZVJlc3VsdHMiLCJsZW5ndGgiLCJzYW1wbGUiLCJzYW1wbGVSZXN1bHQiLCJpbnB1dCIsInNhbXBsZVN0YXR1cyIsInN0ZG91dCIsImluY2x1ZGVzIiwic3RkZXJyIiwic2FtcGxlRXJyIiwidXBkRXJyIiwidXBkYXRlIiwiY29tcGlsZV9vdXRwdXQiLCJzdWJtaXNzaW9uX2lkIiwiZXJyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/run.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Frun&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Capi%5Crun.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();